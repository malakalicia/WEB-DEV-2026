<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartHR - Candidats</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Archivo:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .page-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .table-card {
            background: var(--white);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid var(--border-color);
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
        }

        .table-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-input {
            width: 250px;
            height: 40px;
            padding: 0 16px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 14px;
            outline: none;
        }

        .search-input:focus {
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px rgba(99, 106, 232, 0.1);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            text-align: left;
            padding: 16px 24px;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            background: var(--neutral-50);
            border-bottom: 1px solid var(--border-color);
        }

        .data-table td {
            padding: 16px 24px;
            border-bottom: 1px solid var(--border-color);
            font-size: 14px;
        }

        .data-table tr:hover {
            background: var(--neutral-50);
        }

        .badge-profil {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-profil.developpeur {
            background: #DBEAFE;
            color: #1D4ED8;
        }

        .badge-profil.data-scientist {
            background: #F3E8FF;
            color: #7C3AED;
        }

        .badge-profil.devops {
            background: #FEF3C7;
            color: #D97706;
        }

        .badge-profil.chef-projet {
            background: #DCFCE7;
            color: #16A34A;
        }

        .badge-profil.designer {
            background: #FCE7F3;
            color: #DB2777;
        }

        .badge-statut {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-statut.junior {
            background: #DBEAFE;
            color: #1D4ED8;
        }

        .badge-statut.intermediaire {
            background: #FEF3C7;
            color: #D97706;
        }

        .badge-statut.senior {
            background: #DCFCE7;
            color: #16A34A;
        }

        .badge-statut.expert {
            background: #F3E8FF;
            color: #7C3AED;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            background: var(--white);
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-icon:hover {
            background: var(--neutral-50);
        }

        .btn-icon.edit:hover {
            border-color: var(--primary-500);
            color: var(--primary-500);
        }

        .btn-icon.delete:hover {
            border-color: var(--danger-500);
            color: var(--danger-500);
        }

        .btn-icon svg {
            width: 18px;
            height: 18px;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            background: var(--white);
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .modal-overlay.active .modal-container {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            background: none;
            cursor: pointer;
            border-radius: var(--radius-md);
            transition: background 0.2s;
        }

        .modal-close:hover {
            background: var(--neutral-100);
        }

        .modal-body {
            padding: 24px;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            padding: 16px 24px;
            border-top: 1px solid var(--border-color);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-secondary);
        }

        .empty-state svg {
            width: 64px;
            height: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 20px;
        }

        .pagination-info {
            font-size: 14px;
            color: var(--text-secondary);
            margin-right: 16px;
        }

        .comment-cell {
            max-width: 200px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header-container">
        <a href="../index.html" class="header-logo">
            <svg class="logo-svg" viewBox="0 0 50 50">
                <circle cx="25" cy="25" r="22" fill="#636AE8"/>
                <text x="25" y="32" font-family="Arial" font-size="14" font-weight="bold" fill="white" text-anchor="middle">HR</text>
            </svg>
            <span class="header-title">SmartHR</span>
        </a>

        <nav class="header-menu">
            <a href="besoins.html" class="header-menu-item">Besoins</a>
            <a href="candidats.html" class="header-menu-item active">Candidats</a>
            <a href="recrutement-intelligent.html" class="header-menu-item">Recrutement intelligent</a>
        </nav>

        <button class="btn-disconnect" onclick="Auth.logout()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
            Se deconnecter
        </button>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <h1 class="page-title">Gestion des Candidats</h1>
            <button class="btn btn-primary" onclick="openAddModal()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"/>
                    <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                Ajouter candidat
            </button>
        </div>

        <div class="table-card">
            <div class="table-header">
                <span class="table-title">Liste des candidats</span>
                <div class="table-actions">
                    <input type="text" class="search-input" placeholder="Rechercher..." id="searchInput" oninput="filterTable()">
                </div>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Proposition</th>
                            <th>Nom et Prenom</th>
                            <th>Profil</th>
                            <th>Qualification</th>
                            <th>Experience</th>
                            <th>Commentaire</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Contenu dynamique -->
                    </tbody>
                </table>
            </div>

            <div id="emptyState" class="empty-state hidden">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
                <p>Aucun candidat trouve</p>
            </div>

            <div class="pagination" id="pagination">
                <!-- Pagination dynamique -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer-container">
        <div class="footer-left">
            <span class="footer-text">2025 SmartHR. Tous droits reserves.</span>
        </div>
        <div class="footer-right">
            <a href="#" class="footer-link">Politique de confidentialite</a>
            <a href="#" class="footer-link">Conditions d'utilisation</a>
        </div>
    </footer>

    <!-- Modal Ajouter/Modifier -->
    <div class="modal-overlay" id="modal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Ajouter un candidat</h2>
                <button class="modal-close" onclick="closeModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <form id="candidatForm">
                    <input type="hidden" id="candidatId">

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Nom de la proposition *</label>
                            <input type="text" class="form-input" id="proposition" placeholder="Ex: Mission Client A" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Nom et prenom *</label>
                            <input type="text" class="form-input" id="name" placeholder="Ex: Mohamed El Alami" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Email *</label>
                            <input type="email" class="form-input" id="email" placeholder="exemple@email.com" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Experience (annees) *</label>
                            <input type="number" class="form-input" id="experience" placeholder="Ex: 5" min="0" max="50" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Profil *</label>
                            <select class="form-select" id="profil" required>
                                <option value="">Selectionnez un profil</option>
                                <option value="0">Developpeur</option>
                                <option value="1">Data Scientist</option>
                                <option value="2">DevOps</option>
                                <option value="3">Chef de Projet</option>
                                <option value="4">Designer</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Statut de qualification *</label>
                            <select class="form-select" id="statut" required>
                                <option value="">Selectionnez un statut</option>
                                <option value="0">Junior</option>
                                <option value="1">Intermediaire</option>
                                <option value="2">Senior</option>
                                <option value="3">Expert</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Commentaire</label>
                        <textarea class="form-textarea" id="commentaire" placeholder="Notes sur le candidat..." rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">Annuler</button>
                <button class="btn btn-primary" onclick="saveCandidat()">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Modal Confirmation Suppression -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal-container" style="max-width: 400px;">
            <div class="modal-header">
                <h2 class="modal-title">Confirmer la suppression</h2>
                <button class="modal-close" onclick="closeDeleteModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"/>
                        <line x1="6" y1="6" x2="18" y2="18"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p>Etes-vous sur de vouloir supprimer ce candidat ? Cette action est irreversible.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeDeleteModal()">Annuler</button>
                <button class="btn btn-danger" onclick="confirmDelete()" style="background: var(--danger-500); color: white;">Supprimer</button>
            </div>
        </div>
    </div>

    <script src="../js/api-simulator.js"></script>
    <script>
        // Variables globales
        let candidats = [];
        let currentPage = 1;
        let itemsPerPage = 10;
        let deleteId = null;

        // Labels
        const profilsLabels = ['Developpeur', 'Data Scientist', 'DevOps', 'Chef de Projet', 'Designer'];
        const profilsClasses = ['developpeur', 'data-scientist', 'devops', 'chef-projet', 'designer'];
        const statutsLabels = ['Junior', 'Intermediaire', 'Senior', 'Expert'];
        const statutsClasses = ['junior', 'intermediaire', 'senior', 'expert'];

        // Initialisation
        document.addEventListener('DOMContentLoaded', async function() {
            // Verifier l'authentification
            if (!Auth.checkAuth()) return;

            // Charger les candidats
            await loadCandidats();
        });

        // Charger les candidats depuis l'API
        async function loadCandidats() {
            try {
                const response = await HTTP.getCandidats();

                if (response.result === false) {
                    // Token invalide, rediriger vers login
                    window.location.href = '../index.html';
                    return;
                }

                candidats = response.candidats || [];
                renderTable();
            } catch (error) {
                console.error('Erreur chargement candidats:', error);
                showNotification('Erreur lors du chargement des candidats', 'error');
            }
        }

        // Afficher le tableau
        function renderTable() {
            const tbody = document.getElementById('tableBody');
            const emptyState = document.getElementById('emptyState');
            const searchValue = document.getElementById('searchInput').value.toLowerCase();

            // Filtrer les candidats
            let filteredCandidats = candidats.filter(c => {
                return c.name.toLowerCase().includes(searchValue) ||
                       c.proposition.toLowerCase().includes(searchValue) ||
                       c.email.toLowerCase().includes(searchValue) ||
                       profilsLabels[c.profil].toLowerCase().includes(searchValue);
            });

            // Pagination
            const totalPages = Math.ceil(filteredCandidats.length / itemsPerPage);
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const paginatedCandidats = filteredCandidats.slice(start, end);

            if (paginatedCandidats.length === 0) {
                tbody.innerHTML = '';
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');

                tbody.innerHTML = paginatedCandidats.map(candidat => `
                    <tr>
                        <td><strong>#${candidat.id}</strong></td>
                        <td>${candidat.proposition}</td>
                        <td>
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="width: 32px; height: 32px; border-radius: 50%; background: linear-gradient(135deg, #636AE8, #3B82F6); color: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 600;">
                                    ${candidat.name.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase()}
                                </div>
                                <div>
                                    <div style="font-weight: 500;">${candidat.name}</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">${candidat.email}</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <span class="badge-profil ${profilsClasses[candidat.profil]}">${profilsLabels[candidat.profil]}</span>
                        </td>
                        <td>
                            <span class="badge-statut ${statutsClasses[candidat.statut]}">${statutsLabels[candidat.statut]}</span>
                        </td>
                        <td>${candidat.experience} ans</td>
                        <td class="comment-cell" title="${candidat.commentaire || ''}">${candidat.commentaire || '-'}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn-icon edit" onclick="editCandidat(${candidat.id})" title="Modifier">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                                    </svg>
                                </button>
                                <button class="btn-icon delete" onclick="deleteCandidat(${candidat.id})" title="Supprimer">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="3 6 5 6 21 6"/>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                                    </svg>
                                </button>
                            </div>
                        </td>
                    </tr>
                `).join('');
            }

            // Pagination
            renderPagination(filteredCandidats.length, totalPages);
        }

        // Afficher la pagination
        function renderPagination(total, totalPages) {
            const pagination = document.getElementById('pagination');

            if (total <= itemsPerPage) {
                pagination.innerHTML = '';
                return;
            }

            let html = `<span class="pagination-info">${total} resultats</span>`;

            html += `<button class="pagination-btn" onclick="changePage(${currentPage - 1})" ${currentPage === 1 ? 'disabled' : ''}>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15 18 9 12 15 6"/>
                </svg>
            </button>`;

            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                    html += `<button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</button>`;
                } else if (i === currentPage - 2 || i === currentPage + 2) {
                    html += `<span style="padding: 0 8px;">...</span>`;
                }
            }

            html += `<button class="pagination-btn" onclick="changePage(${currentPage + 1})" ${currentPage === totalPages ? 'disabled' : ''}>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"/>
                </svg>
            </button>`;

            pagination.innerHTML = html;
        }

        function changePage(page) {
            const searchValue = document.getElementById('searchInput').value.toLowerCase();
            const filteredCandidats = candidats.filter(c => {
                return c.name.toLowerCase().includes(searchValue) ||
                       c.proposition.toLowerCase().includes(searchValue) ||
                       c.email.toLowerCase().includes(searchValue);
            });
            const totalPages = Math.ceil(filteredCandidats.length / itemsPerPage);

            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTable();
            }
        }

        // Filtrer le tableau
        function filterTable() {
            currentPage = 1;
            renderTable();
        }

        // Modal Ajouter
        function openAddModal() {
            document.getElementById('modalTitle').textContent = 'Ajouter un candidat';
            document.getElementById('candidatForm').reset();
            document.getElementById('candidatId').value = '';
            document.getElementById('modal').classList.add('active');
        }

        // Modal Modifier
        function editCandidat(id) {
            const candidat = candidats.find(c => c.id === id);
            if (!candidat) return;

            document.getElementById('modalTitle').textContent = 'Modifier le candidat';
            document.getElementById('candidatId').value = candidat.id;
            document.getElementById('proposition').value = candidat.proposition;
            document.getElementById('name').value = candidat.name;
            document.getElementById('email').value = candidat.email;
            document.getElementById('profil').value = candidat.profil;
            document.getElementById('statut').value = candidat.statut;
            document.getElementById('experience').value = candidat.experience;
            document.getElementById('commentaire').value = candidat.commentaire || '';

            document.getElementById('modal').classList.add('active');
        }

        // Fermer modal
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // Sauvegarder candidat
        async function saveCandidat() {
            const id = document.getElementById('candidatId').value;
            const proposition = document.getElementById('proposition').value.trim();
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const profil = parseInt(document.getElementById('profil').value);
            const statut = parseInt(document.getElementById('statut').value);
            const experience = parseInt(document.getElementById('experience').value);
            const commentaire = document.getElementById('commentaire').value.trim();

            if (!proposition || !name || !email || isNaN(profil) || isNaN(statut) || isNaN(experience)) {
                showNotification('Veuillez remplir tous les champs obligatoires', 'error');
                return;
            }

            const candidatData = {
                proposition,
                name,
                email,
                profil,
                statut,
                experience,
                commentaire
            };

            try {
                if (id) {
                    // Modifier
                    candidatData.id = parseInt(id);
                    const response = await HTTP.updateCandidat(candidatData);

                    if (response.result === false) {
                        showNotification('Erreur lors de la modification', 'error');
                        return;
                    }

                    // Mettre a jour localement
                    const index = candidats.findIndex(c => c.id === parseInt(id));
                    if (index !== -1) {
                        candidats[index] = response;
                    }

                    showNotification('Candidat modifie avec succes', 'success');
                } else {
                    // Ajouter
                    const response = await HTTP.addCandidat(candidatData);

                    if (response.result === false) {
                        showNotification('Erreur lors de l\'ajout', 'error');
                        return;
                    }

                    // Ajouter en tete de tableau
                    candidats.unshift(response);

                    showNotification('Candidat ajoute avec succes', 'success');
                }

                closeModal();
                renderTable();
            } catch (error) {
                console.error('Erreur:', error);
                showNotification('Une erreur est survenue', 'error');
            }
        }

        // Supprimer candidat
        function deleteCandidat(id) {
            deleteId = id;
            document.getElementById('deleteModal').classList.add('active');
        }

        function closeDeleteModal() {
            document.getElementById('deleteModal').classList.remove('active');
            deleteId = null;
        }

        async function confirmDelete() {
            if (!deleteId) return;

            try {
                const response = await HTTP.deleteCandidat(deleteId);

                if (response.result === false) {
                    showNotification('Erreur lors de la suppression', 'error');
                    return;
                }

                // Supprimer localement
                candidats = candidats.filter(c => c.id !== deleteId);

                showNotification('Candidat supprime avec succes', 'success');
                closeDeleteModal();
                renderTable();
            } catch (error) {
                console.error('Erreur:', error);
                showNotification('Une erreur est survenue', 'error');
            }
        }

        // Notification
        function showNotification(message, type = 'success') {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                padding: 16px 24px;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 10000;
                box-shadow: 0 10px 15px rgba(0,0,0,0.1);
                animation: slideIn 0.3s ease;
                background: ${type === 'success' ? '#1DD75B' : type === 'error' ? '#DE3B40' : '#636AE8'};
            `;
            toast.textContent = message;
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Animations
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>
