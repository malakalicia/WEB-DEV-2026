<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SII Skills Connect - Profil Candidat</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Archivo:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .page-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .back-link {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--primary-500);
        }

        /* Main Layout */
        .profile-layout {
            display: grid;
            grid-template-columns: 1fr 340px;
            gap: 24px;
        }

        .profile-main {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .profile-sidebar {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        /* Cards */
        .profile-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
            padding: 24px;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .card-header-icon {
            width: 24px;
            height: 24px;
            color: var(--primary-500);
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .card-subtitle {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Personal Info Card */
        .personal-info-card {
            text-align: center;
        }

        .personal-info-card .card-header {
            justify-content: center;
            border-bottom: none;
            padding-bottom: 0;
        }

        .avatar-container {
            margin: 20px 0;
        }

        .avatar-large {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-500), var(--secondary-500));
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: 600;
            margin: 0 auto 12px;
            overflow: hidden;
        }

        .avatar-large img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .change-photo-link {
            font-size: 13px;
            color: var(--primary-500);
            cursor: pointer;
            text-decoration: none;
        }

        .change-photo-link:hover {
            text-decoration: underline;
        }

        .info-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
            text-align: left;
        }

        .info-row.single {
            grid-template-columns: 1fr;
        }

        .info-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 6px;
        }

        .info-value {
            font-size: 14px;
            color: var(--text-primary);
            padding: 10px 12px;
            background: var(--neutral-50);
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
        }

        .btn-outline-primary {
            width: 100%;
            margin-top: 16px;
            color: var(--primary-500);
            background: var(--white);
            border: 1px solid var(--primary-500);
        }

        .btn-outline-primary:hover {
            background: rgba(99, 106, 232, 0.05);
        }

        /* Experience Section */
        .experience-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .experience-item {
            padding-left: 20px;
            border-left: 3px solid var(--primary-500);
        }

        .experience-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .experience-role {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .experience-role span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .experience-description {
            font-size: 13px;
            color: var(--neutral-600);
            line-height: 1.6;
        }

        .btn-add-project {
            width: 100%;
            margin-top: 20px;
            color: var(--white);
            background: var(--primary-500);
        }

        /* Skills Section */
        .skills-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .skill-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .skill-name {
            font-size: 14px;
            color: var(--text-primary);
        }

        .skill-level {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
        }

        .skill-level.expert {
            background: #F3E8FF;
            color: #7C3AED;
        }

        .skill-level.avance {
            background: #DBEAFE;
            color: #1D4ED8;
        }

        .skill-level.competent {
            background: #DCFCE7;
            color: #16A34A;
        }

        .skill-level.intermediaire {
            background: #FEF3C7;
            color: #D97706;
        }

        .skill-level.debutant {
            background: #F3F4F6;
            color: #6B7280;
        }

        .btn-add-skill {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 12px;
            margin-top: 16px;
            color: var(--text-secondary);
            background: transparent;
            border: 1px dashed var(--border-color);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }

        .btn-add-skill:hover {
            border-color: var(--primary-500);
            color: var(--primary-500);
        }

        /* Certifications Section */
        .certifications-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .certification-item {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .certification-icon {
            width: 40px;
            height: 40px;
            background: var(--neutral-100);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-500);
        }

        .certification-name {
            font-size: 14px;
            color: var(--text-primary);
            flex: 1;
        }

        .certification-expand {
            color: var(--text-secondary);
            cursor: pointer;
        }

        /* Preferences Section */
        .preferences-section {
            margin-bottom: 20px;
        }

        .preferences-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tag {
            padding: 6px 12px;
            background: var(--neutral-100);
            border-radius: 20px;
            font-size: 12px;
            color: var(--text-primary);
        }

        .mission-types {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .mission-type-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 13px;
            color: var(--text-primary);
        }

        .mission-checkbox {
            width: 16px;
            height: 16px;
            border-radius: 3px;
        }

        .mission-checkbox.filled {
            background: var(--primary-500);
        }

        .mission-checkbox.empty {
            background: var(--white);
            border: 2px solid var(--border-color);
        }

        .btn-update-preferences {
            width: 100%;
            margin-top: 16px;
            color: var(--white);
            background: var(--primary-500);
        }

        /* Bottom Section */
        .bottom-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-top: 24px;
        }

        /* Availability Section */
        .availability-section .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .date-input-container {
            position: relative;
        }

        .date-input-container input {
            width: 100%;
            padding: 10px 12px;
            padding-right: 36px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 14px;
            color: var(--text-primary);
        }

        .date-input-container svg {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            pointer-events: none;
        }

        .allocation-input-container {
            position: relative;
        }

        .allocation-input-container input {
            width: 100%;
            padding: 10px 12px;
            padding-right: 36px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 14px;
            color: var(--text-primary);
        }

        .allocation-input-container .suffix {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 14px;
        }

        .btn-submit-availability {
            width: 100%;
            margin-top: 8px;
            color: var(--white);
            background: var(--primary-500);
        }

        /* Contacts Section */
        .contacts-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .contact-icon {
            width: 24px;
            height: 24px;
            color: var(--text-secondary);
        }

        .contact-input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-md);
            font-size: 14px;
            color: var(--text-primary);
        }

        .contact-expand {
            color: var(--text-secondary);
            cursor: pointer;
        }

        .btn-download {
            width: 100%;
            margin-top: 16px;
            color: var(--white);
            background: var(--primary-500);
        }

        /* Validate Button */
        .validate-section {
            display: flex;
            justify-content: center;
            margin-top: 32px;
            margin-bottom: 32px;
        }

        .btn-validate {
            padding: 12px 48px;
            color: var(--white);
            background: var(--success-500);
            border: none;
            border-radius: var(--radius-md);
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
        }

        .btn-validate:hover {
            background: var(--success-600);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .profile-layout {
                grid-template-columns: 1fr;
            }

            .bottom-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header-container">
        <a href="../index.html" class="header-logo">
            <svg class="logo-svg" viewBox="0 0 50 50">
                <circle cx="25" cy="25" r="22" fill="#636AE8"/>
                <text x="25" y="32" font-family="Arial" font-size="16" font-weight="bold" fill="white" text-anchor="middle">SII</text>
            </svg>
            <span class="header-title">Skills Connect</span>
        </a>

        <nav class="header-menu">
            <a href="besoins.html" class="header-menu-item">Besoins</a>
            <a href="candidats.html" class="header-menu-item active">Candidats</a>
            <a href="pilotage-rh.html" class="header-menu-item">Pilotage RH</a>
            <a href="recommandations.html" class="header-menu-item">Recommandation</a>
        </nav>

        <div class="header-search">
            <svg class="header-search-icon" viewBox="0 0 24 24" fill="currentColor">
                <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
            <input type="text" placeholder="Rechercher">
        </div>

        <button class="btn-disconnect" onclick="Auth.logout()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
            Deconnexion
        </button>

        <div class="header-icons">
            <div class="header-icon">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                    <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                </svg>
            </div>
        </div>

        <div class="user-avatar" id="userAvatar">JD</div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <div>
                <a href="candidats.html" class="back-link">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"/>
                    </svg>
                    Retour a la liste
                </a>
                <h1 class="page-title" style="margin-top: 8px;">Profil professionnel</h1>
            </div>
        </div>

        <div class="profile-layout">
            <!-- Main Column -->
            <div class="profile-main">
                <!-- Experience Section -->
                <div class="profile-card">
                    <div class="card-header">
                        <svg class="card-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
                            <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                        </svg>
                        <div>
                            <h3 class="card-title">Experience et historique des projets</h3>
                            <p class="card-subtitle">Detaillez votre parcours professionnel et vos principales contributions.</p>
                        </div>
                    </div>

                    <div class="experience-list" id="experienceList">
                        <!-- Dynamic content -->
                    </div>

                    <button class="btn btn-add-project" onclick="addExperience()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Ajouter un nouveau projet
                    </button>
                </div>

                <!-- Two column layout for skills and certifications -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                    <!-- Technical Skills -->
                    <div class="profile-card">
                        <div class="card-header">
                            <svg class="card-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="16 18 22 12 16 6"/>
                                <polyline points="8 6 2 12 8 18"/>
                            </svg>
                            <div>
                                <h3 class="card-title">Competences techniques</h3>
                                <p class="card-subtitle">Mettez en avant votre expertise et vos niveaux de competence.</p>
                            </div>
                        </div>

                        <div class="skills-list" id="skillsList">
                            <!-- Dynamic content -->
                        </div>

                        <button class="btn-add-skill" onclick="addSkill()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                            </svg>
                            Ajouter une nouvelle competence
                        </button>
                    </div>

                    <!-- Certifications -->
                    <div class="profile-card">
                        <div class="card-header">
                            <svg class="card-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="8" r="7"/>
                                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                            </svg>
                            <div>
                                <h3 class="card-title">Certifications et realisations</h3>
                                <p class="card-subtitle">Mettez en valeur vos qualifications professionnelles.</p>
                            </div>
                        </div>

                        <div class="certifications-list" id="certificationsList">
                            <!-- Dynamic content -->
                        </div>

                        <button class="btn-add-skill" onclick="addCertification()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            Ajouter une nouvelle certification
                        </button>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="profile-sidebar">
                <!-- Personal Info -->
                <div class="profile-card personal-info-card">
                    <div class="card-header">
                        <svg class="card-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                            <circle cx="12" cy="7" r="4"/>
                        </svg>
                        <div>
                            <h3 class="card-title">Informations personnelles</h3>
                            <p class="card-subtitle">Gerez vos informations principales.</p>
                        </div>
                    </div>

                    <div class="avatar-container">
                        <div class="avatar-large" id="avatarLarge">
                            <img id="avatarImage" style="display: none;">
                            <span id="avatarInitials">JD</span>
                        </div>
                        <a class="change-photo-link">Changer la photo</a>
                    </div>

                    <div class="info-row">
                        <div>
                            <div class="info-label">Nom</div>
                            <div class="info-value" id="infoNom">John</div>
                        </div>
                        <div>
                            <div class="info-label">Prenom</div>
                            <div class="info-value" id="infoPrenom">Doe</div>
                        </div>
                    </div>

                    <div class="info-row">
                        <div>
                            <div class="info-label">Poste</div>
                            <div class="info-value" id="infoPoste">Senior Software Engineer</div>
                        </div>
                        <div>
                            <div class="info-label">Equipe</div>
                            <div class="info-value" id="infoEquipe">Digital Solutions</div>
                        </div>
                    </div>

                    <div class="info-row single">
                        <div>
                            <div class="info-label">Localisation</div>
                            <div class="info-value" id="infoLocalisation">Paris, France</div>
                        </div>
                    </div>

                    <button class="btn btn-outline-primary" onclick="editPersonalInfo()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                        </svg>
                        Modifier les informations personnelles
                    </button>
                </div>

                <!-- Preferences -->
                <div class="profile-card">
                    <div class="card-header">
                        <svg class="card-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                        </svg>
                        <div>
                            <h3 class="card-title">Preferences</h3>
                            <p class="card-subtitle">Indiquez vos domaines d'interet et les types de missions que vous privilegiez.</p>
                        </div>
                    </div>

                    <div class="preferences-section">
                        <div class="preferences-label">Domaines d'interet</div>
                        <div class="tags-container" id="interestTags">
                            <!-- Dynamic content -->
                        </div>
                    </div>

                    <div class="preferences-section">
                        <div class="preferences-label">Types de missions privilegies</div>
                        <div class="mission-types" id="missionTypes">
                            <!-- Dynamic content -->
                        </div>
                    </div>

                    <button class="btn btn-update-preferences" onclick="updatePreferences()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                            <polyline points="17 21 17 13 7 13 7 21"/>
                            <polyline points="7 3 7 8 15 8"/>
                        </svg>
                        Mettre a jour les preferences
                    </button>
                </div>
            </div>
        </div>

        <!-- Bottom Section -->
        <div class="bottom-section">
            <!-- Availability -->
            <div class="profile-card">
                <div class="card-header">
                    <svg class="card-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    <div>
                        <h3 class="card-title">Disponibilite</h3>
                        <p class="card-subtitle">Precisez vos periodes de disponibilite et votre taux d'allocation.</p>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label">Date de debut</label>
                        <div class="date-input-container">
                            <input type="date" id="dateDebut" value="2024-08-01">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label">Date de fin</label>
                        <div class="date-input-container">
                            <input type="date" id="dateFin" value="2024-12-31">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Pourcentage d'allocation</label>
                    <div class="allocation-input-container">
                        <input type="number" id="allocation" value="100" min="0" max="100">
                        <span class="suffix">%</span>
                    </div>
                </div>

                <div class="form-group" style="margin-bottom: 0;">
                    <label class="form-label">Statut</label>
                    <select class="form-select" id="disponibiliteStatut">
                        <option value="disponible" selected>Disponible</option>
                        <option value="partiel">Partiellement disponible</option>
                        <option value="indisponible">Indisponible</option>
                    </select>
                </div>

                <button class="btn btn-submit-availability" onclick="submitAvailability()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17 21 17 13 7 13 7 21"/>
                        <polyline points="7 3 7 8 15 8"/>
                    </svg>
                    Submit Availability
                </button>
            </div>

            <!-- Contacts & Useful Links -->
            <div class="profile-card">
                <div class="card-header">
                    <svg class="card-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="3" width="20" height="18" rx="2"/>
                        <path d="M8 7h8M8 11h8M8 15h4"/>
                    </svg>
                    <div>
                        <h3 class="card-title">Contacts & Liens utiles</h3>
                        <p class="card-subtitle">Partagez vos coordonnees, profils en ligne et documents cles.</p>
                    </div>
                </div>

                <div class="contacts-list">
                    <div class="contact-item">
                        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        <input type="email" class="contact-input" id="contactEmail" placeholder="Email">
                        <svg class="contact-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </div>

                    <div class="contact-item">
                        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        <input type="text" class="contact-input" id="contactLinkedIn" placeholder="LinkedIn">
                        <svg class="contact-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </div>

                    <div class="contact-item">
                        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        <input type="text" class="contact-input" id="contactGitHub" placeholder="GitHub">
                        <svg class="contact-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </div>

                    <div class="contact-item">
                        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        <input type="text" class="contact-input" id="contactCV" placeholder="CV (PDF ou lien Drive)">
                        <svg class="contact-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </div>

                    <div class="contact-item">
                        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        <input type="text" class="contact-input" id="contactPortfolio" placeholder="Portfolio / Site web">
                        <svg class="contact-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </div>
                </div>

                <button class="btn btn-download" onclick="downloadContacts()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7 10 12 15 17 10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    Telecharger
                </button>
            </div>
        </div>

        <!-- Validate Button -->
        <div class="validate-section">
            <button class="btn-validate" onclick="validateProfile()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"/>
                </svg>
                Valide
            </button>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer-container">
        <div class="footer-left">
            <span class="footer-text">2025 SII Skills Connect. Tous droits reserves.</span>
        </div>
        <div class="footer-right">
            <a href="#" class="footer-link">Politique de confidentialite</a>
            <a href="#" class="footer-link">Conditions d'utilisation</a>
        </div>
    </footer>

    <script src="../js/api-simulator.js"></script>
    <script>
        // Sample data for candidate profile
        let candidatData = null;
        let candidatId = null;

        // Sample experiences
        const sampleExperiences = [
            {
                title: "Migration CRM d'entreprise",
                role: "Responsable Frontend",
                period: "Janvier 2022 - Present",
                description: "Dirige une equipe de 5 developpeurs pour migrer un CRM obsolete vers une stack moderne React/TypeScript, ameliorant les performances de 30 %. Mise en oeuvre de strategies robustes de tests unitaires et d'integration."
            },
            {
                title: "Application de banque mobile",
                role: "Ingenieur Full Stack",
                period: "Mars 2020 - Decembre 2021",
                description: "Developpement de nouvelles fonctionnalites pour la multiplateforme en utilisant React Native et Node.js. Optimisation des points de terminaison API pour un acces aux donnees plus rapide."
            },
            {
                title: "Plateforme d'analyse de donnees",
                role: "Developpeur logiciel",
                period: "Juillet 2018 - Fevrier 2020",
                description: "Contribution au developpement d'un tableau de bord d'analyse de donnees en temps reel. Conception et implementation de composants de visualisation personnalises avec D3.js et React."
            }
        ];

        // Sample skills
        const sampleSkills = [
            { name: "React", level: "expert" },
            { name: "TypeScript", level: "avance" },
            { name: "Node.js", level: "avance" },
            { name: "AWS", level: "competent" },
            { name: "Kubernetes", level: "intermediaire" },
            { name: "Python", level: "competent" },
            { name: "Figma", level: "debutant" }
        ];

        // Sample certifications
        const sampleCertifications = [
            "AWS Certified Solutions Architect - Associate",
            "Certified Kubernetes Administrator (CKA)",
            "Professional Scrum Master I (PSM I)"
        ];

        // Sample interest tags
        const sampleInterests = [
            "Artificial Intelligence",
            "Cloud Computing",
            "Cybersecurity",
            "DevOps",
            "Green IT"
        ];

        // Sample mission types
        const sampleMissionTypes = [
            { name: "Projets long terme (+ 6 mois)", checked: true },
            { name: "Projets court terme (-6 mois)", checked: false },
            { name: "Client-facing roles", checked: true },
            { name: "Roles en contact client", checked: true },
            { name: "Projets internes de R&D", checked: true }
        ];

        // Skill level labels
        const skillLevelLabels = {
            expert: "Expert",
            avance: "Avance",
            competent: "Competent",
            intermediaire: "Intermediaire",
            debutant: "Debutant"
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', async function() {
            // Check authentication
            if (!Auth.checkAuth()) return;

            // Get candidate ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            candidatId = urlParams.get('id');

            if (candidatId) {
                await loadCandidatData(candidatId);
            } else {
                // Use sample data if no ID
                renderWithSampleData();
            }
        });

        // Load candidate data
        async function loadCandidatData(id) {
            try {
                const response = await HTTP.getCandidats();

                if (response.result === false) {
                    window.location.href = '../index.html';
                    return;
                }

                const candidats = response.candidats || [];
                candidatData = candidats.find(c => c.id === parseInt(id));

                if (candidatData) {
                    renderCandidatData();
                } else {
                    showNotification('Candidat non trouve', 'error');
                    renderWithSampleData();
                }
            } catch (error) {
                console.error('Erreur chargement candidat:', error);
                renderWithSampleData();
            }
        }

        // Render candidate data
        function renderCandidatData() {
            // Update personal info
            const nameParts = candidatData.name.split(' ');
            const prenom = nameParts[0] || '';
            const nom = nameParts.slice(1).join(' ') || '';

            document.getElementById('infoNom').textContent = nom || prenom;
            document.getElementById('infoPrenom').textContent = prenom;

            const profilsLabels = ['Developpeur', 'Data Scientist', 'DevOps', 'Chef de Projet', 'Designer'];
            document.getElementById('infoPoste').textContent = profilsLabels[candidatData.profil] || 'Non specifie';
            document.getElementById('infoEquipe').textContent = 'Digital Solutions';
            document.getElementById('infoLocalisation').textContent = 'Paris, France';

            // Update avatar
            const initials = candidatData.name.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
            document.getElementById('avatarInitials').textContent = initials;
            document.getElementById('userAvatar').textContent = initials;

            // Update email
            document.getElementById('contactEmail').value = candidatData.email || '';

            // Render other sections with sample data
            renderExperiences();
            renderSkills();
            renderCertifications();
            renderInterests();
            renderMissionTypes();
        }

        // Render with sample data (when no candidate ID)
        function renderWithSampleData() {
            renderExperiences();
            renderSkills();
            renderCertifications();
            renderInterests();
            renderMissionTypes();
        }

        // Render experiences
        function renderExperiences() {
            const container = document.getElementById('experienceList');
            container.innerHTML = sampleExperiences.map(exp => `
                <div class="experience-item">
                    <div class="experience-title">${exp.title}</div>
                    <div class="experience-role">
                        <span>
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                            ${exp.role}
                        </span>
                        <span>
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                            ${exp.period}
                        </span>
                    </div>
                    <div class="experience-description">${exp.description}</div>
                </div>
            `).join('');
        }

        // Render skills
        function renderSkills() {
            const container = document.getElementById('skillsList');
            container.innerHTML = sampleSkills.map(skill => `
                <div class="skill-item">
                    <span class="skill-name">${skill.name}</span>
                    <span class="skill-level ${skill.level}">${skillLevelLabels[skill.level]}</span>
                </div>
            `).join('');
        }

        // Render certifications
        function renderCertifications() {
            const container = document.getElementById('certificationsList');
            container.innerHTML = sampleCertifications.map(cert => `
                <div class="certification-item">
                    <div class="certification-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="8" r="7"/>
                            <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                        </svg>
                    </div>
                    <span class="certification-name">${cert}</span>
                    <svg class="certification-expand" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"/>
                    </svg>
                </div>
            `).join('');
        }

        // Render interests
        function renderInterests() {
            const container = document.getElementById('interestTags');
            container.innerHTML = sampleInterests.map(interest => `
                <span class="tag">${interest}</span>
            `).join('');
        }

        // Render mission types
        function renderMissionTypes() {
            const container = document.getElementById('missionTypes');
            container.innerHTML = sampleMissionTypes.map(mission => `
                <div class="mission-type-item">
                    <div class="mission-checkbox ${mission.checked ? 'filled' : 'empty'}"></div>
                    <span>${mission.name}</span>
                </div>
            `).join('');
        }

        // Action functions
        function addExperience() {
            showNotification('Fonctionnalite d\'ajout d\'experience a venir', 'info');
        }

        function addSkill() {
            showNotification('Fonctionnalite d\'ajout de competence a venir', 'info');
        }

        function addCertification() {
            showNotification('Fonctionnalite d\'ajout de certification a venir', 'info');
        }

        function editPersonalInfo() {
            showNotification('Fonctionnalite de modification a venir', 'info');
        }

        function updatePreferences() {
            showNotification('Preferences mises a jour', 'success');
        }

        function submitAvailability() {
            showNotification('Disponibilite soumise avec succes', 'success');
        }

        function downloadContacts() {
            showNotification('Telechargement en cours...', 'info');
        }

        function validateProfile() {
            showNotification('Profil valide avec succes!', 'success');
            setTimeout(() => {
                window.location.href = 'candidats.html';
            }, 1500);
        }

        // Notification
        function showNotification(message, type = 'success') {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                padding: 16px 24px;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 10000;
                box-shadow: 0 10px 15px rgba(0,0,0,0.1);
                animation: slideIn 0.3s ease;
                background: ${type === 'success' ? '#1DD75B' : type === 'error' ? '#DE3B40' : '#636AE8'};
            `;
            toast.textContent = message;
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Animations
        const styleSheet = document.createElement('style');
        styleSheet.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(styleSheet);
    </script>
</body>
</html>
